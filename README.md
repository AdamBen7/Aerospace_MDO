# Aerospace_MDO
June 24, 2020\
Developed by Adam Benabbou\
Master's Thesis Project\
Aeroelasticity and Structural Dynamics Research Laboratory\
The University of Alabama\

## To use the framework, the following software/licenses must be available:
- MSC PATRAN with FlightLoads
- MSC NASTRAN with the SOL 144/145 (aeroelasticity)
- MATLAB Statistics and Machine Learning Toolbox
- MATLAB Deep Learning Toolbox
- MATLAB Parallel Computing Toolbox
- Optimization Toolbox (for comparative purposes)

This project was developed using MATLAB 9.7.0.1190202 (R2019b) and MSC NASTRAN/PATRAN/Flightloads x64 2019.0. 

## The repository includes the following functions:
- Main() - calls all other functions
  - ALM_GA_Func() - a custom augmented lagrangian genetic algorithm for constraint-based numerical optimization
  - LaGrangianFunction() - Lagrangian function which gets updated through augmented Lagrangian multiplier method and gets optimized by Simple_GA_Func()
  - Simple_GA_Func() - searches for optimum using Crossover and Mutation 
  - GAMember[] - class definition for a single population member for GA optimization
  - MyGradient() - uses finite difference method (percentage instead of a constant epsilon value) to estimate gradient. Also used for sensitivity calculations.
- WingModeler() - generates wing model based on inputs and outputs structural and aerodynamic data
  - FlightCondition[] - class definition which sets/contains flight conditions for simulation
  - InputDataFileGenerator() - loads a .DAT file with input values (referenced by PATRAN's model for parametic design)
  - SessionGenerator() - generates a complete .ses file from session file fragments and design variables
  - BDF_Assembler() - which assembles partial BDF files generated by PATRAN
  - F06DataExtractor_144() - which extracts relevant output data generated by NASTRAN
  - F06_License_Error_Check() - which checks the output file for a license error (happens when working on unreliable networks such as on VPNs. #CORONA2020 #COVID19Semester...)

- DataVisualizer()   - (code) GUI program that rapidly plots 3D surfaces and saves .png images
- DataVisualizer.fig - (GUI) GUI program that rapidly plots 3D surfaces and saves .png images
- An excel spreadsheet containing NACA0012 airfoil coordinates

## Steps to Run Framework
- Know the file path for your workspace (run pwd) 
  - Mine is: 'C:\Users\localbenabbou\Box Sync\Research - MDO\WingOptFramework\WingModel'
- Know the file path for Patran's template database and Nastran executable file
  - Mine is: 'C:\\MSC.Software\\Patran_x64\\20190/template.db'
  - And: 'C:\MSC.Software\MSC_Nastran\20190\bin\nastranw.exe'
  - For Patran.exe: My computer was setup in a such a way that I did not need to specify filepath of the executable. Easy way to test is to call Patran directly from MS-Dos (terminal) or through MATLAB's command line using the 'dos' built-in function. If you can't, you may have to specify the filepath in WingModeler()
- Modify NasPath in WingModeler()
- Modify filepath references in the Partial Session Files and SessionGenerator()
- GoTo Main.m and run each section of the code in MATLAB or all at once
- If parallel processing is not possible on your workstation, replace "parfor" with "for" in Main.m

For more information on the theory, methodology, sample results, and analysis, visit: <link for thesis document > 
